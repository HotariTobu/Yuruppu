# ADR: Logging

> Date: 2025-12-17
> Status: **Adopted**

## Context

Need logging for the LINE bot to track incoming messages and errors. NFR-002 requires INFO level logging with timestamp, user ID, message type, and message text.

## Decision Drivers

- Human-readable output for development (Claude Code terminal)
- Log levels required (at minimum INFO, ERROR)
- Minimal dependencies preferred

## Options Considered

- **Option 1:** Standard library `log`
- **Option 2:** Standard library `log/slog` (Go 1.21+)
- **Option 3:** zerolog
- **Option 4:** zap

## Decision

Adopt **Standard library `log/slog`**.

No formal evaluation performed - the choice is obvious given the constraints.

## Rationale

- Built into Go 1.21+ (no external dependencies)
- Provides log levels (DEBUG, INFO, WARN, ERROR)
- Human-readable text format by default
- Structured logging with key-value pairs
- Can switch to JSON format for production if needed

Example output:
```
2025/12/17 10:30:00 INFO received message user_id=U123... type=text text="Hello"
```

## Consequences

**Positive:**
- No additional dependencies
- Native Go solution with good performance
- Flexible output format (text/JSON)
- Structured logging helps with debugging

**Negative:**
- Less features than zerolog/zap (e.g., no color output)
- Slightly more verbose than simple `log`

## Related Decisions

- [20241214-line-bot-architecture.md](./20241214-line-bot-architecture.md)

## Resources

| Option | Documentation |
|--------|---------------|
| log/slog | [pkg.go.dev](https://pkg.go.dev/log/slog) |
