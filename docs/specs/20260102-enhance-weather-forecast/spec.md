# Enhancement: Weather Forecast Multi-day and Detail Levels

## Overview

天気ツールに複数日の予報取得と詳細レベルの選択機能を追加する。

## Background & Purpose

ユーザーから「明日の天気は？」「週末は晴れる？」といった将来の天気について質問されるが、現在のツールは今日の天気しか返せない。複数日の予報と詳細情報を提供することで、ユーザーが予定を立てやすくなる。

## Current Behavior

- 現在の天気（気温、天気状態）のみを返す
- 日付指定ができない
- 詳細な天気情報（湿度、風速、降水確率など）を取得できない

## Proposed Changes

- [ ] CH-001: 日付を指定できるようにする（今日、明日、明後日から任意に選択可能）
- [ ] CH-002: 詳細レベルを選択できるようにする（簡易、詳細、完全）
- [ ] CH-003: 時間帯別予報の有効/無効を選択できるようにする

## Acceptance Criteria

### AC-001: 複数日の予報を取得できる [CH-001]

- **Given**: ユーザーが複数日の天気を知りたい
- **When**: 今日、明日、明後日のいずれか（複数可）を指定して天気を取得する
- **Then**: 指定した日付の予報が返される

### AC-002: 詳細レベルで情報量を制御できる [CH-002]

- **Given**: ユーザーが詳細な天気情報を知りたい
- **When**: 詳細レベルを指定する
- **Then**:
  - 簡易: 気温と天気状態のみ
  - 詳細: 簡易 + 湿度、風、降水確率、体感温度
  - 完全: 詳細 + UV指数、気圧、視界、雲量、日の出/日の入り

### AC-003: 時間帯別の予報を取得できる [CH-003]

- **Given**: ユーザーが特定の時間帯の天気を知りたい（午後、夕方など）
- **When**: 時間帯別予報を有効にする
- **Then**: 各日の3時間ごとの予報データが含まれる

### AC-004: デフォルト動作 [CH-001, CH-002, CH-003]

- **Given**: オプションを省略した場合
- **When**: 場所のみ指定して天気を取得する
- **Then**: 今日の簡易予報が返される（時間帯別なし）

### AC-005: 利用不可の日付を指定した場合 [CH-001]

- **Given**: データソースに存在しない日付を指定した場合
- **When**: 天気を取得する
- **Then**: 利用可能な日付のみが返される。全ての日付が利用不可の場合はエラーを返す

### AC-006: API障害時の動作

- **Given**: 外部天気データソースが利用不可の場合
- **When**: 天気を取得しようとする
- **Then**: 適切なエラーメッセージが返される

## Change History

| Date | Version | Changes | Author |
|------|---------|---------|--------|
| 2026-01-02 | 1.0 | Initial version | - |
